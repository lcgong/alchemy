<div class="select-part" style="{{cssStyle}}">
  <div ng-if="!editable"
    class="uneditable form-control">

    <span class="label label-default"
      style="font-size:102%"
      ng-bind-html="model.selected.part_no"></span>
    <span ng-bind-html="model.selected.title"></span>
  </div>
  <ui-select ng-if="editable"
    class="editable" style="{{cssStyle}}"
    ng-model="model.selected" >

    <ui-select-match placeholder="{{placeholder}}"  allow-clear="true">
      <span ng-bind-html="model.selected.part_no"
        class="label label-default" style="font-size:102%"></span>
      <span ng-bind-html="model.selected.title"></span>
    </ui-select-match>

    <ui-select-choices
      repeat="opt in displayed"
      refresh="refresh($select)"
      refresh-delay="0">

      <div ng-if="opt.tooMany > 0">
        条目<span class="badge">{{opt.tooMany}}</span>太多，
        请再输缩小范围
      </div>
      <div ng-if="!opt.tooMany">
        <span ng-bind-html="opt.part_no | highlight: $select.search"
          class="label label-success" style="font-size:102%"></span>
        <span ng-bind-html="opt.title | highlight: $select.search"></span>
      </div>

    </ui-select-choices>
  </ui-select>
</div>
